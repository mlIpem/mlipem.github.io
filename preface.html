<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Preface | Exploring music interactions</title>
<meta name="author" content="Marc Leman">
<meta name="description" content='Description source("Code/chapAll_00_Initialization.R")  Goal Many people experience music as a positive force in their lives. But what do people do with music, and how does it affect them? This is...'>
<meta name="generator" content="bookdown 0.41 with bs4_book()">
<meta property="og:title" content="Preface | Exploring music interactions">
<meta property="og:type" content="book">
<meta property="og:url" content="https://www.ugent.be/preface.html">
<meta property="og:image" content="https://www.ugent.be/images/cover.jpeg">
<meta property="og:description" content='Description source("Code/chapAll_00_Initialization.R")  Goal Many people experience music as a positive force in their lives. But what do people do with music, and how does it affect them? This is...'>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Preface | Exploring music interactions">
<meta name="twitter:description" content='Description source("Code/chapAll_00_Initialization.R")  Goal Many people experience music as a positive force in their lives. But what do people do with music, and how does it affect them? This is...'>
<meta name="twitter:image" content="https://www.ugent.be/images/cover.jpeg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Lato-0.4.9/font.css" rel="stylesheet">
<link href="libs/Roboto_Mono-0.4.9/font.css" rel="stylesheet">
<link href="libs/Montserrat-0.4.9/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-99618359-1', 'auto');
      ga('send', 'pageview');

    </script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-CDTTJLM7N4"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-CDTTJLM7N4');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h2>
        <a href="index.html" title="">Exploring music interactions</a>
      </h2>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="active" href="preface.html">Preface</a></li>
<li><a class="" href="chapTheory.html"><span class="header-section-number">1</span> Theory</a></li>
<li><a class="" href="chapModelling.html"><span class="header-section-number">2</span> Modelling</a></li>
<li><a class="" href="chapListener.html"><span class="header-section-number">3</span> Listener appreciation</a></li>
<li><a class="" href="chapDancer.html"><span class="header-section-number">4</span> Dancer synchronization</a></li>
<li><a class="" href="chapViolinist.html"><span class="header-section-number">5</span> Violin player visual feedback</a></li>
<li><a class="" href="chapExoskeletons.html"><span class="header-section-number">6</span> Two violin players’ haptic feedback</a></li>
<li><a class="" href="chapTappers1.html"><span class="header-section-number">7</span> Two finger tappers’ entrainment (Part 1)</a></li>
<li><a class="" href="chapTappers2.html"><span class="header-section-number">8</span> Two finger tappers’ entrainment (Part 2)</a></li>
<li><a class="" href="chapConclusion.html"><span class="header-section-number">9</span> Conclusion</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/mlIpem/ExploringMusicInteractionWithR">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="preface" class="section level1 unnumbered">
<h1>Preface<a class="anchor" aria-label="anchor" href="#preface"><i class="fas fa-link"></i></a>
</h1>
<div id="description" class="section level2 unnumbered">
<h2>Description<a class="anchor" aria-label="anchor" href="#description"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"Code/chapAll_00_Initialization.R"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="goal" class="section level2 unnumbered">
<h2>Goal<a class="anchor" aria-label="anchor" href="#goal"><i class="fas fa-link"></i></a>
</h2>
<p>Many people experience music as a positive force in their lives. But what do people do with music, and how does it affect them? This is probably based on precarious interaction states of high value, which we refer to as “self-augmented interactions.”</p>
<p>In this book, we delve deeper into the how and why of self-augmented interactions. Our goal is to show how statistical modeling can increase our understanding of self-augmented interactions.</p>
<p>While our research focuses on the musical domain, it applies to many other domains of human interactive activity, such as conversations, sports, and teamwork.
The study of interactions is rather new and it calls for explorative approaches.
Hence this book.
We hope that it can be of interest to readers both inside and outside the field of music research.</p>
</div>
<div id="limitations" class="section level2 unnumbered">
<h2>Limitations<a class="anchor" aria-label="anchor" href="#limitations"><i class="fas fa-link"></i></a>
</h2>
<p>Every book has its limitations, and it is important to be transparent about them from the outset.</p>
<p>First, we focus exclusively on behavioral data. While we recognize the importance of neurobiology, our focus lies on behavioral data. We hope that others will build on our work by incorporating neurobiological data to more fully support our theoretical claims.</p>
<p>Second, in our analysis of behavioral data, we focus primarily on timing. Specifically, we examine how people act in time with one another, such as during music playing or dancing. We chose this focus because timing is crucial for building and maintaining interactions, and because music provides an excellent domain for understanding self-augmented interactions.</p>
<p>Third, this book is not a textbook, but rather a guide to navigating the space between theory and data. We are exploring music interactions, and we acknowledge that research in this area is still in its infancy.</p>
<p>Finally, this book is not about applications or technologies, although we are personally interested in biofeedback applications. While some of our data were collected using technologies such as augmented reality, virtual reality, and exoskeletons, we do not delve deeply into these topics.</p>
<p>Given these limitations, and above all, our own limited capacities as musicologist, we offer this book as an open contribution to the field. We welcome suggestions for improvement from our readers.</p>
</div>
<div id="overview" class="section level2 unnumbered">
<h2>Overview<a class="anchor" aria-label="anchor" href="#overview"><i class="fas fa-link"></i></a>
</h2>
<div class="inline-table"><table class="table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:IndexChapterOverview">Table 0.1: </span>Overview of chapters
</caption>
<thead><tr>
<th style="text-align:left;">
#
</th>
<th style="text-align:left;">
chapter
</th>
<th style="text-align:left;">
theory
</th>
<th style="text-align:left;">
performance
</th>
<th style="text-align:left;">
measure
</th>
<th style="text-align:left;">
modelling
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
theory
</td>
<td style="text-align:left;">
self-augmentation
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
modelling
</td>
<td style="text-align:left;">
Bayesian
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
listening
</td>
<td style="text-align:left;">
appreciation
</td>
<td style="text-align:left;">
listening
</td>
<td style="text-align:left;">
questions
</td>
<td style="text-align:left;">
structural equation modelling
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
dancer
</td>
<td style="text-align:left;">
anticipation
</td>
<td style="text-align:left;">
classical ballet
</td>
<td style="text-align:left;">
relative phase
</td>
<td style="text-align:left;">
regression
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
violinst
</td>
<td style="text-align:left;">
parallax
</td>
<td style="text-align:left;">
orchestra playing
</td>
<td style="text-align:left;">
procustus distance
</td>
<td style="text-align:left;">
regression
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
exoskeletons
</td>
<td style="text-align:left;">
modalities
</td>
<td style="text-align:left;">
dyad violin playing
</td>
<td style="text-align:left;">
relative phase
</td>
<td style="text-align:left;">
regression
</td>
</tr>
<tr>
<td style="text-align:left;">
8 &amp; 9
</td>
<td style="text-align:left;">
tappers
</td>
<td style="text-align:left;">
entrainment
</td>
<td style="text-align:left;">
dyad finger tapping
</td>
<td style="text-align:left;">
phase flow
</td>
<td style="text-align:left;">
state-space modelling
</td>
</tr>
</tbody>
</table></div>
<p>Table <a href="preface.html#tab:IndexChapterOverview">0.1</a> gives an overview of the chapters.</p>
<ul>
<li><p>The first two chapters are about theory and methodology. Chapter <a href="chapTheory.html#chapTheory">1</a> introduces the theory of <em>self-augmented interactions</em> and the Bayesian perspective that will be developed in subsequent chapters.
Chapter <a href="chapModelling.html#chapModelling">2</a> introduces <em>regression</em> modelling as our main analysis tool.</p></li>
<li><p>Chapter <a href="chapListener.html#chapListener">3</a> accesses the listener’s music appreciation using questionnaires. The chapter shows how questionnaires are used in a <em>structural equation model</em> for validating a theory of appreciation. This is the only chapter that is not about timing.</p></li>
<li><p>Chapter <a href="chapDancer.html#chapDancer">4</a> shows that synchronization of movement with music can be influenced by the narrative that defines classical ballet dancing. The chapter applies <em>circular-linear smooth regression</em> and an approach to contrast musical phrases selected over time.</p></li>
<li><p>Chapter <a href="chapViolinist.html#chapViolinist">5</a> is about the effect of parallax, using a 3D versus 2D music play-along system for violin, for training synchronized bowing gestures in an orchestra. It reduces bowing gesture to discrete events and applies <em>regression</em> in a way that is similar to the previous chapter, including an approach to contrast musical phrases.</p></li>
<li><p>Chapter <a href="chapExoskeletons.html#chapExoskeletons">6</a> is about the effect of auditory, visual and haptic modalities on synchronized playing of two violinists, connected via <em>exoskeletons</em>. We go deeper into the feature extraction and use a <em>regression</em> with categorical predictors.</p></li>
<li><p>Chapters <a href="chapTappers1.html#chapTappers1">7</a> to <a href="chapTappers2.html#chapTappers2">8</a> are about synchronized finger tapping.
In these chapters, we develop a state-space model where the phase flow among interacting units is described by ordinal differential equations. We use this predictor in a <em>regression</em> to capture entrainment as <em>coupling strength</em>. These chapters are a bit more advanced but we show that this type of <em>non-linear regression</em> is very powerful and promising for future work in the field.</p></li>
<li><p>A brief concluding chapter <a href="chapConclusion.html#chapConclusion">9</a> offers some perspectives for future work in the field.</p></li>
</ul>
</div>
<div id="usage" class="section level2 unnumbered">
<h2>Usage<a class="anchor" aria-label="anchor" href="#usage"><i class="fas fa-link"></i></a>
</h2>
<p>It is recommended to first read the chapters on theory and methodology.
They offer an overall theoretical and methodological framework for the subsequent chapters.
Chapter <a href="chapTappers1.html#chapTappers1">7</a> and chapter <a href="chapTappers2.html#chapTappers2">8</a> are closely related and can best be read in that order.
All other chapters can be read in order of the reader’s preference.</p>
<p>The book is organized such that the reader can have easy access to the code in R and in Stan.
Reference to the code scripts is given at the beginning of each chapter.
Further reference to parts of the code are specified in the text.
In each chapter we follow the same logic: first we do data preparation and data plotting, then we do modelling and plotting of modelling outcomes, then we do contrast testing and sometimes plotting of those tests. We try to maintain this logic as much as possible because it reflects the workflow of statistical modelling as well as the structure of each chapter.</p>
<p>To access to the code we use a file name convention whose form is <code>X_Y_Z.R</code>:</p>
<ul>
<li><p>X indicates the shortname of a chapter, such as <code>chapListener</code>, <code>chapDancer</code>. These names are shortcuts for full chapter names.</p></li>
<li><p>Y is a sequence number, such as <code>02</code>, <code>O3</code>, which indicates the order in which the script should be processed.</p></li>
<li><p>Z is a processing name, such as <code>Initialization</code>, <code>DataPreparation</code>, <code>DataPlotting</code>, <code>Modelling</code>, which indicates the kind of processing that is dealt with.</p></li>
<li><p>.R is just an extension to indicate the fact that the file is a pure R-script. At one point we use .san to specify that it is a Stan-script.</p></li>
</ul>
<p>For example, the filename <code>chapListener_02_DataPreparation.R</code> is an R-script about data preparation in the chapter on the listener. It’s sequence number <code>02</code> suggests that it there is a <code>01</code>, and even an <code>00</code> script which should be executed first.
The script <code>chapListener_05_ModelPlotting.R</code> is about plotting the results of modelling. It should be executed after running the modelling script <code>script_chapListener_04_Modelling.R</code>. But that script requires at least that scripts <code>00</code>, <code>01</code>, <code>02</code> and <code>03</code> have been considered as well.</p>
<p>The scripts that should be run in all chapters are called: <code>chapAll_00_Initialization.R</code> and <code>chapAll_01_Functions.R</code>.</p>
</div>
<div id="level" class="section level2 unnumbered">
<h2>Level<a class="anchor" aria-label="anchor" href="#level"><i class="fas fa-link"></i></a>
</h2>
<p>A word should be said about the level of this book.
As it is written for MA-students, PhD-students, and interested researchers, we don’t offer a didactical approach from scratch. Instead, some level of statistics knowledge might be required in order to be able to read this book, or code in particular.
However, self-learning can largely profit from explorations with the code provided.
You may find example code for your developing your own explorations.</p>
</div>
<div id="our-inspiration" class="section level2 unnumbered">
<h2>Our inspiration<a class="anchor" aria-label="anchor" href="#our-inspiration"><i class="fas fa-link"></i></a>
</h2>
<p>Much of our statistical inspiration comes from McElreath (2020), Kruschke (2015), and Gelman et al. (2014). It was useful to consult books on regression, for example, Roback and Legler (2021), Singer and Willet (2003), or Dunn and Smyth (2018), as well as a book on structual equation modelling (Bollen, 1989).</p>
</div>
<div id="setting-up" class="section level2 unnumbered">
<h2>Setting up<a class="anchor" aria-label="anchor" href="#setting-up"><i class="fas fa-link"></i></a>
</h2>
<p>We use R and several R-packages in RStudio. They get initialized in <code>Code/chapAll_00_Initialization.R</code>. Be sure that all those packages are installed on your system.
The installation of the R package <code>rstan</code>, an interface to the Stan probabilistic programming language, is also required for the R package <code>brms</code>. We recommend to have a look at the <a href="https://mc-stan.org/users/documentation/">Stan documentation</a> and follow the link to the RStan documentation.</p>
<p>Some statistical modelling can be computational intensive, or very intensive.
We offer fitted models when we think computation is too intensive for an ordinary laptop.</p>
<p>We had a server at our disposal and used parallel processing.
This server runs R version 4.2.3 (2023-03-15) and R-Studio Server 2023.03.0 build 386 on Ubuntu 22.04.2 LTS. The hardware consists of a dual AMD Epyc 74F3 CPU (48 cores total, 96 threads), 128 GB (8x16GB) ECC DDR4 RAM and Nvidia RTX 3090TI graphics card.</p>
</div>
<div id="finding-sources" class="section level2 unnumbered">
<h2>Finding sources<a class="anchor" aria-label="anchor" href="#finding-sources"><i class="fas fa-link"></i></a>
</h2>
<p>Sources are found in <code>Data</code>/, <code>Code</code>/, <code>Figures</code>/, <code>Fitted</code>/, which are subdirectories to the main directory where the chapters exist as formatted text in R markdown files (.Rmd).
To try things with R, code is found in <code>Code</code>/, data in <code>Data</code>/. When larger pre-processed models are used, you’ll find them in <code>Fitted</code>/. We also use <code>Fitted</code>/ as subdirectory for storing calculated models, and <code>Figures</code>/ to store calculated figures. Sometimes we use <code>Data</code>/ to store calculated data.</p>
</div>
<div id="about-the-author" class="section level2 unnumbered">
<h2>About the author<a class="anchor" aria-label="anchor" href="#about-the-author"><i class="fas fa-link"></i></a>
</h2>
<p>Marc Leman is emeritus professor at Ghent University, specialized in the epistemology and methodology of music research. He served as Methusalem research professor, head of the department Art History, Teater Studies, and Musicology, and founder of <a href="https://asil.ugent.be">ASIL</a>.</p>
</div>
<div id="acknowledgements" class="section level2 unnumbered">
<h2>Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"><i class="fas fa-link"></i></a>
</h2>
<p>This work was supported by my <a href="https://www.ugent.be/en/research/funding/bof/methusalem">Methusalem</a> grant at Ghent University, grant number 01M00208, BOF UGent.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html">Welcome</a></div>
<div class="next"><a href="chapTheory.html"><span class="header-section-number">1</span> Theory</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <h2>Provide your feedback</h2>
    <!--<p>Now is a great time to provide feedback</p>-->
        <ul class="list-unstyled">
<!--<li><a href="https://forms.gle/nq9RmbxJyZXQgc948">Provide feedback (5 min)</a></li>--><li><a href="https://www.ugent.be/lw/kunstwetenschappen/ipem/en/services/asil">art and science interaction lab</a></li>
        </ul>
<hr>
<nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#preface">Preface</a></li>
<li><a class="nav-link" href="#description">Description</a></li>
<li><a class="nav-link" href="#goal">Goal</a></li>
<li><a class="nav-link" href="#limitations">Limitations</a></li>
<li><a class="nav-link" href="#overview">Overview</a></li>
<li><a class="nav-link" href="#usage">Usage</a></li>
<li><a class="nav-link" href="#level">Level</a></li>
<li><a class="nav-link" href="#our-inspiration">Our inspiration</a></li>
<li><a class="nav-link" href="#setting-up">Setting up</a></li>
<li><a class="nav-link" href="#finding-sources">Finding sources</a></li>
<li><a class="nav-link" href="#about-the-author">About the author</a></li>
<li><a class="nav-link" href="#acknowledgements">Acknowledgements</a></li>
</ul>
      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/mlIpem/ExploringMusicInteractionWithR/blob/main/index.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/mlIpem/ExploringMusicInteractionWithR/edit/main/index.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Exploring music interactions</strong>" was written by Marc Leman. It was last built on 2024-12-19.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
